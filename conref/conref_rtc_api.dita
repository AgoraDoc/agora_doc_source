<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="apidef">
    <title>RTC APIs for Reuse</title>
    <body>
                <section id="section_mjq_rgy_vnb">
                        <title>Methods</title>
                        <!--setClientRole-->
                        <p id="setClientRole">
                                <codeblock props="android" outputclass="java">public abstract int setClientRole(int role);</codeblock>
                                <codeblock props="ios" outputclass="objective-c">- (int)setClientRole:(AgoraClientRole)role;</codeblock>
                                <codeblock props="windows" outputclass="language-cpp">virtual int setClientRole(CLIENT_ROLE_TYPE role) = 0;</codeblock>
                        </p>
                        <!--joinChannel-->
                        <p id="join">
                                <codeblock props="android" outputclass="java">public abstract int joinChannel(String token, String channelName, String optionalInfo, int optionalUid);</codeblock>
                                <codeblock props="windows" outputclass="language-cpp">virtual int joinChannel(const char* token, const char* channelId, const char* info, uid_t uid) = 0;</codeblock>
                        </p>
                        <!--leaveChannel-->
                        <p id="leave">
                                <codeblock props="windows" outputclass="language-cpp">virtual int leaveChannel() = 0;</codeblock>
                        </p>
                        <!--release-->
                        <p id="release">
                                <codeblock props="windows" outputclass="language-cpp">AGORA_CPP_API static void release (bool sync = false);</codeblock>
                        </p>
                        <!--setChannelProfile-->
                        <p id="setChannelProfile">
                                <codeblock props="android" outputclass="java">public abstract int setChannelProfile(int profile);</codeblock>
                                <codeblock props="windows" outputclass="language-cpp">virtual int setChannelProfile(CHANNEL_PROFILE_TYPE profile) = 0;</codeblock>
                        </p>
                        <!--setVideoEncoderConfiguration-->
                        <p id="setVideoEncoderConfiguration">
                                <codeblock outputclass="language-cpp" props="windows">virtual int setVideoEncoderConfiguration(const VideoEncoderConfiguration&amp; config) = 0;</codeblock>
                        </p>
                        <!--setLiveTranscoding-->
                        <p id="setLiveTranscoding">
                                <codeblock props="windows" outputclass="language-cpp">virtual int setLiveTranscoding(const LiveTranscoding &amp;transcoding) = 0;</codeblock>
                        </p>
                        <!--removePublishStreamUrl-->
                        <p id="removePublishStreamUrl">
                                <codeblock props="windows" outputclass="language-cpp">virtual int removePublishStreamUrl(const char *url) = 0;</codeblock>
                        </p>
                        <!--enableAudio-->
                        <p id="enableAudio">
                                <codeblock outputclass="language-cpp" props="rust"/>
                        </p>
                        <!--setupLocalVideo-->
                        <p id="setupLocalVideo">
                                <codeblock props="windows" outputclass="language-cpp">virtual int agora::rtc::IRtcEngine::setupLocalVideo (const VideoCanvas &amp; canvas)</codeblock>
                        </p>
                        <!--setupRemoteVideo-->
                        <p id="setupRemoteVideo">
                                <codeblock props="windows" outputclass="language-cpp">virtual int setupRemoteVideo(const VideoCanvas&amp; canvas) = 0;</codeblock>
                        </p>
                        <!--muteRemoteVideoStream-->
                        <p id="muteRemoteVideoStream">
                                <codeblock outputclass="language-cpp" props="windows">virtual int muteRemoteVideoStream(uid_t userId, bool mute) = 0;</codeblock>
                        <!--enableVideo-->
                        <p id="enableVideo">
                                <codeblock props="windows" outputclass="language-cpp">virtual int enableVideo() = 0;</codeblock>
                        </p>
                        <!--disableVideo-->
                        <p id="disableVideo">
                                <codeblock props="windows" outputclass="language-cpp">virtual int disableVideo() = 0;</codeblock>
                        </p>
                        <!--enableLocalVideo-->
                        <p id="enableLocalVideo">
                                <codeblock props="windows" outputclass="language-cpp">virtual int enableLocalVideo(bool enabled) = 0;</codeblock>
                        </p>
                        <!--setupLocalVideo-->
                        <p id="setupLocalVideo">
                                <codeblock props="windows" outputclass="language-cpp">virtual int setupLocalVideo(const VideoCanvas&amp; canvas) = 0;</codeblock>
                        </p>
                        <!--setLocalRenderMode-->
                        <p id="setLocalRenderMode">
                                <codeblock props="windows" outputclass="language-cpp">virtual int setLocalRenderMode(RENDER_MODE_TYPE renderMode, VIDEO_MIRROR_MODE_TYPE mirrorMode) = 0;</codeblock>
                        </p>
                        <!--muteLocalVideoStream-->
                        <p id="muteLocalVideoStream">
                                <codeblock props = "windows" outputclass="language-cpp">virtual int agora::rtc::IRtcEngine::muteLocalVideoStream(bool mute) = 0; </codeblock>
                                <codeblock props = "rust" outputclass="rust">pub fn mute_local_video_stream(&amp;self, mute: bool) -> i32 {
                                        unsafe {
                                        let m: i32 = if mute { 1 } else { 0 };
                                        return agorartcnative::muteLocalVideoStream(self.native_engine, m);
                                        }
                                        } </codeblock>
                        </p>
                        <!--setAudioProfile-->
                        <!--muteRemoteVideoStream-->
                        <p id="muteRemoteVideoStream">
                                <codeblock props="windows" outputclass="language-cpp">virtual int muteRemoteVideoStream(uid_t userId, bool mute) = 0;</codeblock>
                        </p>
                        <!--muteAllRemoteVideoStreams-->
                        <p id="muteAllRemoteVideoStreams">
                                <codeblock props="windows" outputclass="language-cpp">virtual int muteAllRemoteVideoStreams(bool mute) = 0;</codeblock>
                        </p>
                        <p id="setAudioProfile">
                                <codeblock props="windows" outputclass="language-cpp"></codeblock>
                        </p>
                        <!--setRemoteRenderMode-->
                        <p id="setRemoteRenderMode">
                                <codeblock props="windows" outputclass="language-cpp">virtual int setRemoteRenderMode(uid_t userId, RENDER_MODE_TYPE renderMode) = 0;</codeblock>
                        </p>
                </section>

<section>
                        <title>Callbacks</title>
                        <!--onClientRoleChanged-->
                        <p id="onClientRoleChanged">
                        <codeblock props="android" outputclass="java">public void onClientRoleChanged(int oldRole, int newRole);</codeblock>
                        <codeblock props="ios" outputclass="objective-c">- (void)rtcEngine:(AgoraRtcEngineKit * _Nonnull)engine didClientRoleChanged:(AgoraClientRole)oldRole newRole:(AgoraClientRole)newRole;</codeblock>
                        <codeblock props="windows">virtual void agora::rtc::IRtcEngineEventHandler::onClientRoleChanged(CLIENT_ROLE_TYPE oldRole, CLIENT_ROLE_TYPE newRole)	</codeblock>
                        </p>
                        <!--onRemoteVideoStateChanged-->
                        <p id="onRemoteVideoStateChanged">
                        <codeblock props="windows" outputclass="language-cpp">virtual void onRemoteVideoStateChanged(uid_t uid, REMOTE_VIDEO_STATE state, REMOTE_VIDEO_STATE_REASON reason, int elapsed) {
                                <codeblock props="android" outputclass="java">public void onClientRoleChanged(int oldRole, int newRole);</codeblock>
                                <codeblock props="ios" outputclass="objective-c">- (void)rtcEngine:(AgoraRtcEngineKit * _Nonnull)engine didClientRoleChanged:(AgoraClientRole)oldRole newRole:(AgoraClientRole)newRole;</codeblock>
                                <codeblock props="windows">virtual void agora::rtc::IRtcEngineEventHandler::onClientRoleChanged(CLIENT_ROLE_TYPE oldRole, CLIENT_ROLE_TYPE newRole)	</codeblock>
                        </p>
                        <!--onLeaveChannel-->
                        <p id="onLeaveChannel">
                                <codeblock props="windows" outputclass="language-cpp">virtual void onLeaveChannel(const RtcStats&amp; stats) {
                                        (void)stats;
                                        }</codeblock>
                        </p>
                        <!--onUserOffline-->
                        <p id="onUserOffline">
                                <codeblock props="windows" outputclass="language-cpp">virtual void onUserOffline(uid_t uid, USER_OFFLINE_REASON_TYPE reason) {
                                        (void)uid;
                                        (void)reason;
                                        }</codeblock>
                        </p>
                        <!--onRemoteVideoStateChanged-->                
                        <p id="onRemoteVideoStateChanged">
                                <codeblock props="windows" outputclass="language-cpp">virtual void onRemoteVideoStateChanged(uid_t uid, REMOTE_VIDEO_STATE state, REMOTE_VIDEO_STATE_REASON reason, int elapsed) {
                                        (void)uid;
                                        (void)state;
                                        (void)reason;
                                        (void)elapsed;
                                        }	
                        </codeblock>
                        </p>
                        <!--onFirstRemoteVideoDecoded-->                
                        <p id="onFirstRemoteVideoDecoded">
                        <codeblock props="windows" outputclass="language-cpp">virtual void onFirstRemoteVideoDecoded(uid_t uid, int width, int height, int elapsed) {
                                        (void)uid;
                                        (void)width;
                                        (void)height;
                                        (void)elapsed;
                                        }
                        </codeblock>
                        </p>
                                        }</codeblock>
                        </p>
</section>
<section>
                        <title>Classes</title>
                        <!--LiveTranscoding-->
        <p id="LiveTranscoding">
                                <codeblock props="windows" outputclass="language-cpp">typedef struct LiveTranscoding {
        int width;
        int height;
        int videoBitrate;
        int videoFramerate;

        bool lowLatency;

        int videoGop;
        VIDEO_CODEC_PROFILE_TYPE videoCodecProfile;
        unsigned int backgroundColor;
        unsigned int userCount;
        TranscodingUser *transcodingUsers;
        const char *transcodingExtraInfo;
        RtcImage* watermark;

        AUDIO_SAMPLE_RATE_TYPE audioSampleRate;
        int audioBitrate;
        int audioChannels;

        LiveTranscoding()
        : width(360)
        , height(640)
        , videoBitrate(400)
        , videoFramerate(15)
        , lowLatency(false)
        , backgroundColor(0x000000)
        , videoGop(30)
        , videoCodecProfile(VIDEO_CODEC_PROFILE_HIGH)
        , userCount(0)
        , transcodingUsers(nullptr)
        , transcodingExtraInfo(nullptr)
        , watermark(nullptr)
        , audioSampleRate(AUDIO_SAMPLE_RATE_48000)
        , audioBitrate(48)
        , audioChannels(1)
        {}
 } LiveTranscoding;</codeblock>
                        <codeblock props="android" outputclass="java">agora::rtc::LiveTranscoding::LiveTranscoding()</codeblock>
                </p>
        
                        <!--VIDEO_CODEC_PROFILE_TYPE-->
                        <p id="VideoCodecProfileType">
                                <codeblock outputclass="language-cpp" props="windows">enum agora::rtc::VIDEO_CODEC_PROFILE_TYPE</codeblock>
                        </p>
        <!-- VideoCanvas -->
        <p id="VideoCanvas">
                <codeblock outputclass="language-cpp" props="windows">struct VideoCanvas      {
                        view_t view;
                        int renderMode;
                        char channelId[MAX_CHANNEL_ID_LENGTH];
                        void *priv;
                        VIDEO_MIRROR_MODE_TYPE mirrorMode;
                        }</codeblock>
        </p>
</section>

        </body>
</topic>
