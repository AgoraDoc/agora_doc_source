<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="release_notes">
    <title>v4.3.1</title>
    <body>
        <p>该版本于 20xx 年 x 月 x 日发布。</p>
    </body>
    <topic id="level2">
        <title/>
        <topic id="compatibility" props="android">
            <title>升级必看</title>
            <body>
                <p>为确保参数命名的一致性，该版本该版本将 <codeph><xref keyref="joinChannel1"/></codeph> 中的 <codeph>channelName</codeph> 改为 <codeph>channelId</codeph>，将 <codeph>optionalUid</codeph> 改为 <codeph>uid</codeph>。为确保项目的正常运行，你需要在升级到该版本后更新 App 中的代码。</p>
            </body>
        </topic>
        <topic id="newfeature">
            <title>新增特性</title>
            <body>
                <ol>
                    <li><ph><b>数据流加密</b></ph>
                        <p>该版本在 <codeph><xref keyref="EncryptionConfig"/></codeph> 中新增 <codeph>datastreamEncryptionEnabled</codeph> 成员用于启用数据流加密。你可以在调用 <codeph><xref keyref="enableEncryption"/></codeph> 开启加密时来进行设置。如果在数据流加密或解密的过程中遇到问题导致失败，你可以通过新增的 <codeph><apiname keyref="ENCRYPTION_ERROR_DATASTREAM_DECRYPTION_FAILURE"/></codeph>  和 <codeph><apiname keyref="ENCRYPTION_ERROR_DATASTREAM_ENCRYPTION_FAILURE"/></codeph> 枚举得知。</p>
                    </li>
                    <li><ph><b></b></ph>
                        <p></p>
                    </li>
                    <li><ph><b>其他</b></ph>
                        <p>
                        <ul>
                        <li>新增 <codeph><xref keyref="enableEncryptionEx"/></codeph> 方法，用于多频道场景下开启媒体流或数据流加密。</li>
                        <li>新增 <codeph><xref keyref="setAudioMixingPlaybackSpeed"/></codeph> 方法，用于设置音乐文件的播放速度。</li>
                        </ul></p>
                    </li>
                </ol>
            </body>
        </topic>
        <topic id="improvement">
            <title>改进</title>
            <body>
                <ol>
                    <li props="mac"><ph><b>获取音频设备类型</b></ph>
                        <p>该版本在 <codeph><xref keyref="AgoraRtcDeviceInfo"/></codeph> 中新增 <codeph>deviceTypeName</codeph> 成员，用于获取音频设备的类型，如 built-in、USB、HDMI 等。</p>
                    </li>
                    <li><ph><b>其他改进</b></ph>
                        <p>该版本还进行了如下改进：
                        <ul>
                        <li>优化了媒体播放器对 WebM 格式视频的处理能力，支持渲染 alpha 通道。</li>
                        <li props="cpp apple framework">在 <codeph><xref keyref="AUDIO_EFFECT_PRESET"/></codeph> 中新增 <codeph><apiname keyref="ROOM_ACOUSTICS_CHORUS"/></codeph>（合唱音效），可使人声在合唱场景下更具空间立体感。</li>
                        <li props="android">新增 <codeph><apiname keyref="ROOM_ACOUSTICS_CHORUS"/></codeph>（合唱音效），可使人声在合唱场景下更具空间立体感。</li>
                        <li>在 <codeph><xref keyref="RemoteAudioStats"/></codeph> 中新增 <codeph>e2eDelay</codeph>，用于报告从发送端采集音频起，到接收端开始播放音频时的延时。</li>
                        </ul></p>
                    </li>
                </ol>
            </body>
        </topic>
        <topic id="bugfix">
            <title>问题修复</title>
            <body>
                <p>该版本修复了以下问题：</p>
                <ul>
                    <li>使用媒体播放器播放包含 SEI 数据的媒体流时，SEI 数据的输出与视频渲染不同步。</li>
                    <li props="cpp mac">用户插拔一次蓝牙或有线耳机，音频状态改变回调 <codeph><xref keyref="onAudioDeviceStateChanged"/></codeph> 会触发多次。</li>
                </ul>
            </body>
        </topic>
        <topic id="apichange">
            <title>API 变更</title>
            <body>
                <p><b>新增</b>
                    <ul>
                     <li props="android"><codeph><xref keyref="ChannelMediaOptions"/></codeph> 新增如下成员：
                     <ul>
                         <li><codeph><apiname keyref="publishThirdCameraTrack"/></codeph></li>
                         <li><codeph><apiname keyref="publishFourthCameraTrack"/></codeph></li>
                     </ul></li>
                    <li><codeph><xref keyref="EncryptionConfig"/></codeph> 中新增 <codeph>datastreamEncryptionEnabled</codeph></li>
                    <li props="cpp apple framework"><codeph><xref keyref="ENCRYPTION_ERROR_TYPE"/></codeph> 中新增如下枚举：
                    <ul>
                        <li><codeph><apiname keyref="ENCRYPTION_ERROR_DATASTREAM_DECRYPTION_FAILURE"/></codeph></li>
                        <li><codeph><apiname keyref="ENCRYPTION_ERROR_DATASTREAM_ENCRYPTION_FAILURE"/></codeph></li>
                    </ul></li>
                    <li props="android"><codeph><apiname keyref="ENCRYPTION_ERROR_DATASTREAM_DECRYPTION_FAILURE"/></codeph></li>
                    <li props="android"><codeph><apiname keyref="ENCRYPTION_ERROR_DATASTREAM_ENCRYPTION_FAILURE"/></codeph></li>
                    <li props="cpp"><codeph><xref keyref="getDevice2_IAudioDeviceCollection"/></codeph><ph> (macOS)</ph></li>
                    <li props="cpp"><codeph><xref keyref="getDefaultDevice2_IAudioDeviceCollection"/></codeph>><ph> (macOS)</ph></li>
                    <li props="cpp"><codeph><xref keyref="getPlaybackDeviceInfo2"/></codeph>><ph> (macOS)</ph></li>
                    <li props="cpp"><codeph><xref keyref="getRecordingDeviceInfo2"/></codeph><ph> (macOS)</ph></li>
                    <li props="mac"><codeph><xref keyref="AgoraRtcDeviceInfo"/></codeph> 新增 <codeph>deviceTypeName</codeph></li>
                    <li><codeph><xref keyref="RemoteAudioStats"/></codeph> 新增 <codeph>e2eDelay</codeph></li>
                    <li props="apple cpp framework"><codeph><xref keyref="ERROR_CODE_TYPE"/></codeph> 新增 <codeph><apiname keyref="ERR_DATASTREAM_DECRYPTION_FAILED"/></codeph></li>
                    <li props="android"><codeph><apiname keyref="ERR_DATASTREAM_DECRYPTION_FAILED"/></codeph></li>
                    <li props="apple cpp framework"><codeph><xref keyref="AUDIO_EFFECT_PRESET"/></codeph> 新增 <codeph><apiname keyref="ROOM_ACOUSTICS_CHORUS"/></codeph></li>
                    <li props="android"><codeph><apiname keyref="ROOM_ACOUSTICS_CHORUS"/></codeph></li>
                    </ul></p>
                <p><b>废弃</b>
                    <ul>
                    <li></li>
                    <li></li>
                    </ul></p>
                <p><b>删除</b>
                    </p>
            </body>
        </topic>
    </topic>
</topic>
