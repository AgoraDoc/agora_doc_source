# 群组概述

群组是支持多人沟通的即时通讯系统，成员关系相对稳定。所有群成员可以收到群中的消息，可以在群中发送消息。当群成员离线时，可以收到推送消息。群组分为公开群和私有群，公开群可以被搜索到，非群成员可以加入；私有群不能被搜索到，需要群主或群管理员添加非群成员进入。群组成员支持多种角色：群主、群管理员、群成员。群组提供丰富的管理能力，如：群组禁言、群公告、群文件等。

## 群组类型

Agora Chat 有两种类型的群组：

- 公开群组。可以搜索公开群组，并且根据群组的设置，用户可以直接加入公开群组，也可以在群主或管理员的批准下加入。
- 私人群组。无法搜索私人群组，并且用户无法直接申请加入私人群组，除非他们收到邀请。

## 群组角色和权限

群组具有以下角色和权限：

- 群组成员：成员可以发送和接收群消息。他们没有任何管理权限。
- 群组管理员：管理员是有一部分管理权限的成员，包括修改组公告和管理群组成员（但不是其他管理员）。管理员由群主指定。
- 群主：群主是拥有最大权限的群成员。当用户创建群组时，他们会自动成为群主。群主拥有群内最多的权限，包括指定群管理员、修改群公告、管理群成员（包括管理员）。群主还可以解散该组或将所有权转让给其他成员。

## 群组与聊天室的区别

群组和聊天室均为支持多人沟通的即时通讯系统。两者的区别在于，群组中的成员会有固定的强的关系，成员加入后会长时间在群组中。聊天室中的成员没有固定关系，类似于一个开放的空间，大家可以自由加入，离开即退出聊天室。以下为功能对比：

具体功能差异如下表所示：

| 功能         | 群组                                                         | 聊天室                                                       |
| :----------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| 使用场景     | 类似于 Signal，Skype 里的群聊，所有加入的用户拥有固定的关系。  | 类似 Twitch 的直播间，成员间没已有固定关系，离开即退出。     |
| 创建方式 | 所有 app 用户都可以创建群组。   | 仅 [超级管理员](https://docs.agora.io/en/agora-chat/agora_chat_restful_chatroom_superadmin?platform=RESTful) 有权限创建聊天室。  |
| 类型 | 四种群组类型支持不同使用场景。 | 仅有一种类型，所有用户可以自由加入退出。      |
| 最大成员数   | 成员数支持取决于所选择的版本，最高版本支持 8,000 人。        | 成员数支持取决于所选择的版本，最高版本支持 10,000 人。如需提升该上限，请联系商务。 |
| 消息离线推送支持 | 成员离线时会收到推送消息。                                   | 成员离线时收不到推送消息；成员离线超过 5 分钟会自动退出聊天室。                                  |
| 离线消息存储 | 支持离线消息存储，每个会话存储 200 条消息。<br/>用户上线时，会收到离线消息。 | 不支持离线消息存储。如果需要用户新加入聊天室时服务器推送最近的历史消息，可以联系商务开通聊天室历史消息推送，每个会话默认支持 10 条消息，最多可调整至 200 条。 |
| 消息可靠性   | 群组中发送的所有消息，用户都会收到。        | 当消息量大时，聊天室中超过阈值的消息会被丢弃。消息开始丢弃的阈值为每秒 100 条消息，可以根据需求进行调整。 |

## 群组功能

Agora Chat SDK 支持创建和管理群组、管理群组成员、修改群组属性。

你可以使用群组 API 实现以下功能。

### 创建群组

任何聊天用户都可以创建群组。创建群组的用户成为其所有者。支持的群组数量和群组成员的最大数量因选择的版本而异。有关详细信息，请参阅 [群组成员总数限制](https://docs.agora.io/en/agora-chat/limitations)。

### 加入群组

用户可以搜索公开群组，并通过群组 ID 请求加入。对于私人群组，只有在接收到群组聊天邀请时才能加入群组。

### 离开群组

群组成员和管理员可以退出群组。一旦他们这样做，他们将不再收到群组消息。群主不能退出群组；他们必须转让所有权或解散群组。

### 添加群组成员

公共和私人群组的所有者和管理员可以邀请其他用户加入他们的群组。

### 删除群组成员

群主和管理员可以删除指定的群组成员。

### 解散群组

只有群主才能解散群组。群组一旦解散，所有本地群组数据都会被删除，所有群成员都被强制退出群。

### 获取群组成员列表

所有群组用户都可以从服务器获取群组成员的分页列表。成员按加入群组时的时间戳降序显示。

### 获取群组列表

用户可以获取公开群组列表和自己创建或加入的群组列表。

### 屏蔽和取消屏蔽群组消息

所有群组成员都可以屏蔽和取消屏蔽群组消息。用户屏蔽群组消息后，他们将不再收到来自指定群组的消息。

### 监听群组事件

你可以监听群组事件，例如用户何时加入和离开群组，并根据需要添加应用逻辑。

### 管理群组黑名单

群主或管理员可以将指定的群组成员添加到黑名单；他们还可以从列表中删除被拉入黑名单的用户。添加到黑名单的成员将被踢出群组，并且不能再加入。

### 获取群组黑名单

群主和管理员可以获取群组黑名单。群组黑名单上的成员无法加入群组。

### 管理群组白名单

群主和管理员可以将指定的群成员添加到群白名单中；他们还可以从列表中删除用户。当群主或管理员将所有群组成员禁言时，白名单中的成员可以发送群组消息。

### 获取群组白名单

群主和管理员可以获取群组白名单。当群主或管理员将所有群组成员禁言后，群组白名单中的成员仍然可以发送群组消息。

### 管理群组禁言列表

群主或管理员可以将指定的群组成员添加到群组禁言列表中。他们还可以将它们从列表中删除。禁言列表中的成员无法再发送群组消息。被禁言成员仍会收到群组消息。

### 将所有群组成员禁言

群主和管理员可以同时将所有群组成员禁言或取消禁言。将所有成员禁言后将不能发送群组消息，但群主、管理员和群组白名单中的群组成员除外。被禁言成员仍会收到群组消息。

### 获取群组禁言列表

群主和管理员可以获取群组禁言列表。群组禁言列表中的成员无法发送群组消息。

### 转移群组所有权

群主可以将群组的所有权转让给指定的组成员。所有权转移后，群主成为普通群成员。

### 添加和删除组管理员

群主可以添加成员到群组管理员列表；他们也可以将它们从列表中删除。管理员列表中的成员获得所有管理员权限。

### 管理群组属性

群主和管理员可以修改他们的群组名称和描述。他们还可以设置或更新群组公告。群组成员可以获取群公告。

### 管理群组共享文件

所有群组成员都可以上传或下载群共享文件。群主和管理员可以删除所有群组共享文件，而群组成员只能删除他们自己上传的共享文件。

### 设置群组扩展

群主和管理员可以更新群组的扩展信息。扩展信息可用于自定义群组扩展。扩展信息的数据长度不能超过 8 KB。

## 群组人数限制

群成员的数量根据不同的套餐版本而不同，免费版 100 人/群，基础版 250 人/群，进阶版 1,000 人/群，企业版 5,000 人/群。